{"ast":null,"code":"var _jsxFileName = \"/Users/maryamcheema/Documents/VideoAccessibility/frontend/src/components/AskAI.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport Swal from 'sweetalert2';\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport { Button } from \"@mui/material\";\nimport KeyboardVoiceIcon from '@mui/icons-material/KeyboardVoice';\nimport SpeechRecognition, { useSpeechRecognition } from 'react-speech-recognition';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AskAI = props => {\n  _s();\n  const {\n    transcript,\n    listening,\n    resetTranscript,\n    browserSupportsSpeechRecognition\n  } = useSpeechRecognition();\n  if (!browserSupportsSpeechRecognition) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Browser doesn't support speech recognition.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 12\n    }, this);\n  }\n  const handleSpeechRecognition = () => {\n    SpeechRecognition.startListening();\n    Swal.fire({\n      title: 'Listening...',\n      html: `\n        <p>Listening to your question. Click stop when you're done speaking.</p>\n        <p><strong>Transcript:</strong> ${transcript}</p>\n      `,\n      showCancelButton: true,\n      confirmButtonText: 'Submit Question',\n      cancelButtonText: 'Cancel',\n      preConfirm: () => {\n        SpeechRecognition.stopListening();\n        return transcript;\n      }\n    }).then(result => {\n      if (!result.isDismissed && result.value) {\n        // Handle the transcript, send it to the server or perform any other actions\n        const token = Cookies.get(\"jwtToken\");\n        const apiUrl = \"http://127.0.0.1:8000/api/ask_question/\";\n        const postData = {\n          \"id\": props.videoID,\n          \"question\": result.value,\n          \"currentTime\": props.timeStamp,\n          \"jwt\": token\n        };\n        axios.post(apiUrl, postData).then(response => {\n          // Handle the successful response\n          console.log(\"Response:\", response.data);\n        }).catch(error => {\n          // Handle errors, if any\n          console.error(\"Error:\", error);\n        });\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleSpeechRecognition,\n      children: /*#__PURE__*/_jsxDEV(KeyboardVoiceIcon, {\n        sx: {\n          fontSize: \"70px\",\n          backgroundColor: \"#1D5B79\",\n          color: \"#EF6262\",\n          ml: \"5px\",\n          borderRadius: \"100%\",\n          padding: \"20px\",\n          margin: \"20px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(AskAI, \"9TY55m6jT7atq/3XCFZzGXIUmHE=\", false, function () {\n  return [useSpeechRecognition];\n});\n_c = AskAI;\nexport default AskAI;\n\n// // This is the the alert box that opens when a user wants to ask a questions regarding a scene of a video\n// import React from 'react';\n// import Swal from 'sweetalert2';\n// import axios from \"axios\";\n// import Cookies from \"js-cookie\";\n// import {Button,  DialogContent, DialogContentText, DialogActions} from \"@mui/material\";\n// import KeyboardVoiceIcon from '@mui/icons-material/KeyboardVoice';\n\n// const AskAI = (props) => {\n//   (async () => {\n\n//     const { value: text } = await Swal.fire({\n//       input: 'textarea',\n//       inputLabel: 'Type in your question regarding the frame',\n//       inputPlaceholder: 'Type your question here...',\n//       icon: 'question',\n//       inputAttributes: {\n//         'aria-label': 'Type the question you want to ask about the frame here'\n//       },\n//       showCancelButton: false,\n//       confirmButtonText: 'Submit Question',\n//       cancelButtonText: 'Cancel',\n//     })\n\n//     if (text) {\n//       // Swal.fire(text)\n//       const token = Cookies.get(\"jwtToken\");\n//       // Define the API endpoint where you want to send the POST request\n//       const apiUrl = \"http://127.0.0.1:8000/api/ask_question/\";\n//       console.log(\"This is my props id\", props.videoID)\n//       const postData = {\n//         \"id\": props.videoID,\n//         \"question\":text,\n//         \"currentTime\": props.timeStamp,\n//         \"jwt\":token\n//       };\n\n//       axios\n//         .post(apiUrl, postData)\n//         .then((response) => {\n//           // Handle the successful response\n//           console.log(\"Response:\", response.data);\n\n//         })\n//         .catch((error) => {\n//           // Handle errors, if any\n//           console.error(\"Error:\", error);\n//         });\n//     }\n\n//     })()\n//   return (\n//     <div>\n//      { props.parentCallback()}\n//         {/* <DialogContent>\n//         <KeyboardVoiceIcon\n//             sx={{ fontSize: \"70px\", backgroundColor:\"#1D5B79\", color: \"#EF6262\", ml: \"5px\", borderRadius:\"100%\" , padding:\"20px\", margin: \"20px\"}}\n//         />\n//           <DialogContentText id=\"alert-dialog-description\" justifyContent={\"center\"}>\n//             Ask your questions regarding the frame here\n//           </DialogContentText>\n//         </DialogContent>\n//         <DialogActions>\n//         </DialogActions> */}\n//     </div>\n//   );\n// }\n\n// export default AskAI\nvar _c;\n$RefreshReg$(_c, \"AskAI\");","map":{"version":3,"names":["React","Swal","axios","Cookies","Button","KeyboardVoiceIcon","SpeechRecognition","useSpeechRecognition","jsxDEV","_jsxDEV","AskAI","props","_s","transcript","listening","resetTranscript","browserSupportsSpeechRecognition","children","fileName","_jsxFileName","lineNumber","columnNumber","handleSpeechRecognition","startListening","fire","title","html","showCancelButton","confirmButtonText","cancelButtonText","preConfirm","stopListening","then","result","isDismissed","value","token","get","apiUrl","postData","videoID","timeStamp","post","response","console","log","data","catch","error","onClick","sx","fontSize","backgroundColor","color","ml","borderRadius","padding","margin","_c","$RefreshReg$"],"sources":["/Users/maryamcheema/Documents/VideoAccessibility/frontend/src/components/AskAI.jsx"],"sourcesContent":["import React from 'react';\nimport Swal from 'sweetalert2';\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport { Button } from \"@mui/material\";\nimport KeyboardVoiceIcon from '@mui/icons-material/KeyboardVoice';\nimport SpeechRecognition, { useSpeechRecognition } from 'react-speech-recognition';\n\nconst AskAI = (props) => {\n  const {\n    transcript,\n    listening,\n    resetTranscript,\n    browserSupportsSpeechRecognition\n  } = useSpeechRecognition();\n\n  if (!browserSupportsSpeechRecognition) {\n    return <span>Browser doesn't support speech recognition.</span>;\n  }\n  const handleSpeechRecognition = () => {\n    SpeechRecognition.startListening();\n\n    Swal.fire({\n      title: 'Listening...',\n      html: `\n        <p>Listening to your question. Click stop when you're done speaking.</p>\n        <p><strong>Transcript:</strong> ${transcript}</p>\n      `,\n      showCancelButton: true,\n      confirmButtonText: 'Submit Question',\n      cancelButtonText: 'Cancel',\n      preConfirm: () => {\n        SpeechRecognition.stopListening();\n        return transcript;\n      }\n    }).then((result) => {\n      if (!result.isDismissed && result.value) {\n        // Handle the transcript, send it to the server or perform any other actions\n        const token = Cookies.get(\"jwtToken\");\n        const apiUrl = \"http://127.0.0.1:8000/api/ask_question/\";\n        const postData = {\n          \"id\": props.videoID,\n          \"question\": result.value,\n          \"currentTime\": props.timeStamp,\n          \"jwt\": token\n        };\n\n        axios\n          .post(apiUrl, postData)\n          .then((response) => {\n            // Handle the successful response\n            console.log(\"Response:\", response.data);\n          })\n          .catch((error) => {\n            // Handle errors, if any\n            console.error(\"Error:\", error);\n          });\n      }\n    });\n  };\n\n  return (\n    <div>\n      <Button onClick={handleSpeechRecognition}>\n        <KeyboardVoiceIcon sx={{ fontSize: \"70px\", backgroundColor:\"#1D5B79\", color: \"#EF6262\", ml: \"5px\", borderRadius:\"100%\", padding:\"20px\", margin: \"20px\"}} />\n      </Button>\n    </div>\n  );\n};\n\nexport default AskAI;\n\n\n\n// // This is the the alert box that opens when a user wants to ask a questions regarding a scene of a video\n// import React from 'react';\n// import Swal from 'sweetalert2';\n// import axios from \"axios\";\n// import Cookies from \"js-cookie\";\n// import {Button,  DialogContent, DialogContentText, DialogActions} from \"@mui/material\";\n// import KeyboardVoiceIcon from '@mui/icons-material/KeyboardVoice';\n\n// const AskAI = (props) => {\n//   (async () => {\n\n//     const { value: text } = await Swal.fire({\n//       input: 'textarea',\n//       inputLabel: 'Type in your question regarding the frame',\n//       inputPlaceholder: 'Type your question here...',\n//       icon: 'question',\n//       inputAttributes: {\n//         'aria-label': 'Type the question you want to ask about the frame here'\n//       },\n//       showCancelButton: false,\n//       confirmButtonText: 'Submit Question',\n//       cancelButtonText: 'Cancel',\n//     })\n    \n//     if (text) {\n//       // Swal.fire(text)\n//       const token = Cookies.get(\"jwtToken\");\n//       // Define the API endpoint where you want to send the POST request\n//       const apiUrl = \"http://127.0.0.1:8000/api/ask_question/\";\n//       console.log(\"This is my props id\", props.videoID)\n//       const postData = {\n//         \"id\": props.videoID,\n//         \"question\":text,\n//         \"currentTime\": props.timeStamp,\n//         \"jwt\":token\n//       };\n  \n//       axios\n//         .post(apiUrl, postData)\n//         .then((response) => {\n//           // Handle the successful response\n//           console.log(\"Response:\", response.data);\n\n//         })\n//         .catch((error) => {\n//           // Handle errors, if any\n//           console.error(\"Error:\", error);\n//         });\n//     }\n    \n//     })()\n//   return (\n//     <div>\n//      { props.parentCallback()}\n//         {/* <DialogContent>\n//         <KeyboardVoiceIcon\n//             sx={{ fontSize: \"70px\", backgroundColor:\"#1D5B79\", color: \"#EF6262\", ml: \"5px\", borderRadius:\"100%\" , padding:\"20px\", margin: \"20px\"}}\n//         />\n//           <DialogContentText id=\"alert-dialog-description\" justifyContent={\"center\"}>\n//             Ask your questions regarding the frame here\n//           </DialogContentText>\n//         </DialogContent>\n//         <DialogActions>\n//         </DialogActions> */}\n//     </div>\n//   );\n// }\n\n// export default AskAI"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}