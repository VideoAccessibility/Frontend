{"ast":null,"code":"var _jsxFileName = \"/Users/maryamcheema/Documents/VideoAccessibility/frontend/src/components/AskAI.jsx\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from \"react\";\n// import { AlertBar } from \"./\";\n// import SpeechRecognition, { useSpeechRecognition } from \"react-speech-recognition\";\n// import axios from \"axios\";\n// import Cookies from \"js-cookie\";\n// import Button from \"@mui/material/Button\";\n// import TextField from \"@mui/material/TextField\";\n// import Dialog from \"@mui/material/Dialog\";\n// import {\n//   ButtonGroup,\n//   DialogTitle,\n//   DialogContent,\n//   DialogActions,\n//   DialogContentText,\n//   CircularProgress,\n// } from \"@mui/material\";\n// // import SpeechRecognition, {\n// //   useSpeechRecognition,\n// // } from \"react-speech-recognition\";\n// import KeyboardVoiceIcon from \"@mui/icons-material/KeyboardVoice\";\n// import formatTime from \"../utils/functions\";\n// import tokenUsable from \"../utils/loggedIn\";\n\n// const AskAI = (props) => {\n//   const [open, setOpen] = useState(false);\n//   const [loading, setLoading] = useState(false);\n//   const [response, setResponse] = useState(\"\");\n//   const [startOrStop, setStartOrStop] = useState(\"Stop\");\n//   const [showAlert, setShowAlert] = useState(false); // State to control alert visibility\n\n//   useEffect(() => {\n//     const handleKeyPress = (event) => {\n//       if (event.key === \"q\" && !open) {\n//         handleClickOpen();\n//       }\n//     };\n\n//     document.addEventListener(\"keydown\", handleKeyPress);\n\n//     return () => {\n//       document.removeEventListener(\"keydown\", handleKeyPress);\n//     };\n//   }, [open]);\n\n//   const {\n//     transcript,\n//     listening,\n//     resetTranscript,\n//     browserSupportsSpeechRecognition,\n//   } = useSpeechRecognition();\n\n// const handleClickOpen = () => {\n//   const token = Cookies.get(\"jwtToken\");\n//   if (!token || !tokenUsable(token)) {\n//     setShowAlert(true); // Set showAlert to true to show the alert\n//     return;\n//   }\n\n//   SpeechRecognition.startListening({ continuous: true });\n//   setOpen(true);\n// };\n\n//   const handleClose = () => {\n//     setOpen(false);\n//     SpeechRecognition.stopListening();\n//     setResponse(\"\");\n//     resetTranscript();\n//     setStartOrStop(\"Stop\");\n//   };\n\n//   const handleAnotherQuestion = () => {\n//     setResponse(\"\");\n//     resetTranscript();\n//   };\n\n//   const handleReset = () => {\n//     resetTranscript();\n//     SpeechRecognition.startListening({ continuous: true });\n//     setStartOrStop(\"Stop\");\n//   };\n\n//   const handleStartStop = () => {\n//     if (startOrStop === \"Stop\") {\n//       SpeechRecognition.stopListening();\n//       setStartOrStop(\"Start\");\n//     } else {\n//       SpeechRecognition.startListening({ continuous: true });\n//       setStartOrStop(\"Stop\");\n//     }\n//   };\n\n//   const handleQuestion = () => {\n//     setLoading(true);\n//     const token = Cookies.get(\"jwtToken\");\n//     const apiUrl = \"http://127.0.0.1:8000/api/ask_question/\";\n//     const postData = {\n//       id: props.videoID,\n//       question: transcript,\n//       currentTime: props.timeStamp,\n//       jwt: token,\n//     };\n\n//     axios\n//       .post(apiUrl, postData)\n//       .then((response) => {\n//         const synth = window.speechSynthesis;\n//         const newUtterance = new SpeechSynthesisUtterance(\"Response: \" + response.data.answer);\n//         synth.speak(newUtterance);\n//         setResponse(response.data.answer);\n//         setLoading(false);\n//       })\n//       .catch((error) => {\n//         console.error(\"Error:\", error);\n//       });\n//   };\n\n//   return (\n//     // <React.Fragment>\n\n//     //   <Button\n//     //     sx={{\n//     //       backgroundColor: \"secondary.main\",\n//     //       color: \"white\",\n//     //       width: \"100%\",\n//     //       marginTop: \"10px\",\n//     //     }}\n//     //     className=\"category-btn\"\n//     //     onClick={handleClickOpen}\n//     //   >\n//     //     Ask question at {formatTime(props.timeStamp)}\n//     //   </Button>\n//     //   {(loading || response) && (\n//     //     <Dialog\n//     //       open={open}\n//     //       onClose={handleClose}\n//     //       fullWidth\n//     //       sx={{ textAlign: \"center\" }}\n//     //     >\n//     //       {/* Dialog content */}\n//     //     </Dialog>\n//     //   )}\n//     //   {!loading && !response && (\n//     //     <Dialog open={open} onClose={handleClose} sx={{ textAlign: \"center\" }}>\n//     //       {/* Dialog content */}\n//     //     </Dialog>\n//     //   )}\n//     // </React.Fragment>\n//     <>\n//     {showAlert && <AlertBar render ={showAlert} />} {/* Conditionally render the AlertBar */}\n//     <React.Fragment>\n//       <Button\n//         sx={{\n//           backgroundColor: \"secondary.main\",\n//           color: \"white\",\n//           width: \"100%\",\n//           marginTop: \"10px\",\n//         }}\n//         className=\"category-btn\"\n//         onClick={handleClickOpen}\n//       >\n//         Ask question at {formatTime(props.timeStamp)}\n//       </Button>\n//       {(loading || response) && (\n//         <Dialog\n//           open={open}\n//           onClose={handleClose}\n//           fullWidth\n//           sx={{ textAlign: \"center\" }}\n//         >\n//           <KeyboardVoiceIcon\n//             sx={{\n//               fontSize: \"70px\",\n//               backgroundColor: \"#1D5B79\",\n//               color: listening ? \"#EF6262\" : \"white\",\n//               ml: \"5px\",\n//               borderRadius: \"100%\",\n//               padding: \"20px\",\n//               margin: \"20px auto\",\n//             }}\n//           />\n//           <DialogTitle>\n//             {!response ? \"Retrieving Response\" : \"Response\"}\n//           </DialogTitle>\n//           <DialogContent>\n//             {loading && <CircularProgress />}\n//             {response && <DialogContentText>Response: {response}</DialogContentText>}\n//           </DialogContent>\n//           <DialogActions>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               className=\"category-btn\"\n//               onClick={handleAnotherQuestion}\n//             >\n//               Ask another question\n//             </Button>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               className=\"category-btn\"\n//               onClick={handleClose}\n//             >\n//               Cancel\n//             </Button>\n//           </DialogActions>\n//         </Dialog>\n//       )}\n\n//       {!loading && !response && (\n//         <Dialog open={open} onClose={handleClose} sx={{ textAlign: \"center\" }}>\n//           <KeyboardVoiceIcon\n//             sx={{\n//               fontSize: \"70px\",\n//               backgroundColor: \"#1D5B79\",\n//               color: listening ? \"#EF6262\" : \"white\",\n//               ml: \"5px\",\n//               borderRadius: \"100%\",\n//               padding: \"20px\",\n//               margin: \"20px auto\",\n//             }}\n//           />\n//           <DialogTitle>Ask Your Question</DialogTitle>\n//           <DialogContent>\n//             <TextField\n//               id=\"outlined-textarea\"\n//               label=\"Your Question\"\n//               placeholder=\"Your question will be visible here\"\n//               multiline\n//               value={transcript}\n//               fullWidth\n//               disabled\n//               sx={{ margin: \"20px 0\" }}\n//             />\n//             <ButtonGroup aria-label=\"Buttons to control speech recognition\">\n//               <Button\n//                 sx={{\n//                   backgroundColor: \"secondary.main\",\n//                   color: \"white\",\n//                 }}\n//                 aria-label = \"This is a button for start or stopping the speech to text\"\n//                 className=\"category-btn\"\n//                 onClick={handleStartStop}\n//               >\n//                 {startOrStop}\n//               </Button>\n//               <Button\n//                 sx={{\n//                   backgroundColor: \"secondary.main\",\n//                   color: \"white\",\n//                 }}\n//                 className=\"category-btn\"\n//                 onClick={textToSpeech}\n//               >\n//                 Text To Speech\n//               </Button>\n//               <Button\n//                 sx={{\n//                   backgroundColor: \"secondary.main\",\n//                   color: \"white\",\n//                 }}\n//                 className=\"category-btn\"\n//                 onClick={handleReset}\n//               >\n//                 Reset Question\n//               </Button>\n//             </ButtonGroup>\n//           </DialogContent>\n//           <DialogActions>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               className=\"category-btn\"\n//               onClick={handleClose}\n//             >\n//               Cancel\n//             </Button>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               onClick={handleQuestion}\n//             >\n//               Submit Question\n//             </Button>\n//           </DialogActions>\n//         </Dialog>\n//       )}\n//     </React.Fragment>\n//     </>\n//   );\n// };\n\n// export default AskAI;\n\nimport React, { useCallback, useState, useEffect } from \"react\";\nimport { AlertBar } from './';\nimport SpeechRecognition, { useSpeechRecognition } from \"react-speech-recognition\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport { ButtonGroup, DialogTitle, DialogContentText, CircularProgress } from \"@mui/material\";\nimport KeyboardVoiceIcon from \"@mui/icons-material/KeyboardVoice\";\nimport formatTime from \"../utils/functions\";\nimport tokenUsable from \"../utils/loggedIn\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AskAI = props => {\n  _s();\n  const [open, setOpen] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  const [response, setResponse] = React.useState(\"\");\n  const [startOrStop, setStartOrStop] = React.useState(\"Stop\");\n  const playBeep = () => {\n    const audioStart = new Audio(require('../data/beepStart.mp3'));\n    audioStart.play();\n  };\n  const textToSpeech = () => {\n    const synth = window.speechSynthesis;\n    const newUtterance = new SpeechSynthesisUtterance(transcript);\n    const voices = synth.getVoices();\n    newUtterance.voice = voices.find(v => v.name === \"Google US English\");\n    synth.speak(newUtterance);\n  };\n  useEffect(() => {\n    const handleKeyPress = event => {\n      // Check if the pressed key is \"Q\" and if the dialog is not already open\n      if (event.key === \"q\" && !open) {\n        console.log(\"I should open\");\n        handleClickOpen();\n      }\n    };\n\n    // Add event listener when the component mounts\n    document.addEventListener(\"keydown\", handleKeyPress);\n\n    // Remove event listener when the component unmounts\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyPress);\n    };\n  }, [open]);\n  const {\n    transcript,\n    listening,\n    resetTranscript,\n    browserSupportsSpeechRecognition\n  } = useSpeechRecognition();\n  const handleClickOpen = () => {\n    const token = Cookies.get(\"jwtToken\");\n    if (!token || !tokenUsable(token)) {\n      return /*#__PURE__*/_jsxDEV(AlertBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this);\n    }\n    SpeechRecognition.startListening({\n      continuous: true\n    });\n    playBeep();\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n    SpeechRecognition.stopListening();\n    setResponse(\"\");\n    resetTranscript();\n    setStartOrStop(\"Stop\");\n  };\n  const handleAnotherQuestion = () => {\n    setResponse(\"\");\n    resetTranscript();\n  };\n  const handleReset = () => {\n    resetTranscript();\n    SpeechRecognition.startListening({\n      continuous: true\n    });\n    setStartOrStop(\"Stop\");\n    playBeep();\n  };\n  const handleStartStop = () => {\n    if (startOrStop === \"Stop\") {\n      SpeechRecognition.stopListening();\n      setStartOrStop(\"Start\");\n    } else {\n      SpeechRecognition.startListening({\n        continuous: true\n      });\n      setStartOrStop(\"Stop\");\n    }\n  };\n  const handleQuestion = () => {\n    setLoading(true);\n    const token = Cookies.get(\"jwtToken\");\n    // Define the API endpoint where you want to send the POST request\n    const apiUrl = \"http://127.0.0.1:8000/api/ask_question/\";\n    console.log(\"This is my props id\", props.videoID);\n    const postData = {\n      id: props.videoID,\n      question: transcript,\n      currentTime: props.timeStamp,\n      jwt: token\n    };\n    axios.post(apiUrl, postData).then(response => {\n      // Handle the successful response\n      console.log(\"Response:\", response.data);\n      const synth = window.speechSynthesis;\n      const newUtterance = new SpeechSynthesisUtterance(\"Response: \" + response.data.answer);\n      synth.speak(newUtterance);\n      setResponse(response.data.answer);\n      setLoading(false);\n    }).catch(error => {\n      // Handle errors, if any\n      console.error(\"Error:\", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      sx: {\n        backgroundColor: \"secondary.main\",\n        color: \"white\",\n        width: \"100%\",\n        marginTop: \"10px\"\n      },\n      className: \"category-btn\",\n      onClick: handleClickOpen,\n      children: [\"Ask question at \", formatTime(props.timeStamp)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }, this), (loading || response) && /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      fullWidth: true,\n      sx: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(KeyboardVoiceIcon, {\n        sx: {\n          fontSize: \"70px\",\n          backgroundColor: \"#1D5B79\",\n          color: listening ? \"#EF6262\" : \"white\",\n          ml: \"5px\",\n          borderRadius: \"100%\",\n          padding: \"20px\",\n          margin: \"20px auto\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: !response ? \"Retrieving Response\" : \"Response\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [loading && /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 25\n        }, this), response && /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: [\"Response: \", response]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          sx: {\n            backgroundColor: \"secondary.main\",\n            color: \"white\"\n          },\n          className: \"category-btn\",\n          onClick: handleAnotherQuestion,\n          children: \"Ask another question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          sx: {\n            backgroundColor: \"secondary.main\",\n            color: \"white\"\n          },\n          className: \"category-btn\",\n          onClick: handleClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 9\n    }, this), !loading && !response && /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      sx: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(KeyboardVoiceIcon, {\n        sx: {\n          fontSize: \"70px\",\n          backgroundColor: \"#1D5B79\",\n          color: listening ? \"#EF6262\" : \"white\",\n          ml: \"5px\",\n          borderRadius: \"100%\",\n          padding: \"20px\",\n          margin: \"20px auto\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Ask Your Question\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-textarea\",\n          label: \"Your Question\",\n          placeholder: \"Your question will be visible here\",\n          multiline: true,\n          value: transcript,\n          fullWidth: true,\n          disabled: true,\n          sx: {\n            margin: \"20px 0\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          \"aria-label\": \"Buttons to control speech recognition\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            sx: {\n              backgroundColor: \"secondary.main\",\n              color: \"white\"\n            },\n            \"aria-label\": \"This is a button for start or stopping the speech to text\",\n            className: \"category-btn\",\n            onClick: handleStartStop,\n            children: startOrStop\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            sx: {\n              backgroundColor: \"secondary.main\",\n              color: \"white\"\n            },\n            className: \"category-btn\",\n            onClick: textToSpeech,\n            children: \"Text To Speech\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            sx: {\n              backgroundColor: \"secondary.main\",\n              color: \"white\"\n            },\n            className: \"category-btn\",\n            onClick: handleReset,\n            children: \"Reset Question\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          sx: {\n            backgroundColor: \"secondary.main\",\n            color: \"white\"\n          },\n          className: \"category-btn\",\n          onClick: handleClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          sx: {\n            backgroundColor: \"secondary.main\",\n            color: \"white\"\n          },\n          onClick: handleQuestion,\n          children: \"Submit Question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 444,\n    columnNumber: 5\n  }, this);\n};\n_s(AskAI, \"2/dNd0ApIX/4qC9hMbCskewZox8=\", false, function () {\n  return [useSpeechRecognition];\n});\n_c = AskAI;\nexport default AskAI;\n\n// import React, { useCallback, useState, useEffect } from \"react\";\n// import {AlertBar} from './';\n// import SpeechRecognition, {\n//   useSpeechRecognition,\n// } from \"react-speech-recognition\";\n// import axios from \"axios\";\n// import Cookies from \"js-cookie\";\n// import Button from \"@mui/material/Button\";\n// import TextField from \"@mui/material/TextField\";\n// import Dialog from \"@mui/material/Dialog\";\n// import DialogActions from \"@mui/material/DialogActions\";\n// import DialogContent from \"@mui/material/DialogContent\";\n// import {\n//   ButtonGroup,\n//   DialogTitle,\n//   DialogContentText,\n//   CircularProgress,\n// } from \"@mui/material\";\n// import KeyboardVoiceIcon from \"@mui/icons-material/KeyboardVoice\";\n// import formatTime from \"../utils/functions\";\n// import tokenUsable from \"../utils/loggedIn\";\n\n// const AskAI = (props) => {\n//   const [open, setOpen] = React.useState(false);\n//   const [loading, setLoading] = React.useState(false);\n//   const [response, setResponse] = React.useState(\"\");\n//   const [startOrStop, setStartOrStop] = React.useState(\"Stop\");\n//   const [showAlert, setShowAlert] = useState(false); // State to control alert visibilityqq\n\n//   const playBeep = () => {\n//     const audioStart = new Audio(require('../data/beepStart.mp3')) \n//     audioStart.play()\n//   };\n\n//   const textToSpeech = () => {\n//     const synth = window.speechSynthesis;\n//     const newUtterance = new SpeechSynthesisUtterance(transcript);\n//     synth.speak(newUtterance);\n//   }\n\n//   useEffect(() => {\n//     const handleKeyPress = (event) => {\n//       // Check if the pressed key is \"Q\" and if the dialog is not already open\n//       if (event.key === \"q\" && !open) {\n//         handleClickOpen();\n//       }\n//     };\n\n//     // Add event listener when the component mounts\n//     document.addEventListener(\"keydown\", handleKeyPress);\n\n//     // Remove event listener when the component unmounts\n//     return () => {\n//       document.removeEventListener(\"keydown\", handleKeyPress);\n//     };\n//   }, [open]); \n\n//   const {\n//     transcript,\n//     listening,\n//     resetTranscript,\n//     browserSupportsSpeechRecognition,\n//   } = useSpeechRecognition();\n\n//   const handleClickOpen = () => {\n//     const token = Cookies.get(\"jwtToken\");\n//     if (!token || !tokenUsable(token)) {\n//       setShowAlert(true); // Set showAlert to true to show the alert\n//       return;\n//     }\n\n//     SpeechRecognition.startListening({continuous:true});\n//     playBeep();\n//     setOpen(true);\n//   };\n\n//   const handleClose = () => {\n//     setOpen(false);\n//     SpeechRecognition.stopListening()\n//     setResponse(\"\")\n//     resetTranscript();\n//     setStartOrStop(\"Stop\")\n//   };\n\n//   const handleAnotherQuestion = () => {\n//     setResponse(\"\")\n//     resetTranscript();\n//   }\n\n//   const handleReset = () => {\n//     resetTranscript();\n//     SpeechRecognition.startListening({continuous:true});\n//     setStartOrStop(\"Stop\");\n//     playBeep();\n//   }\n\n//   const handleStartStop = () => {\n//     if (startOrStop === \"Stop\"){\n//       SpeechRecognition.stopListening()\n//       setStartOrStop(\"Start\")\n//     }\n//     else{\n//       SpeechRecognition.startListening({continuous:true})\n//       setStartOrStop(\"Stop\")\n//     }\n\n//   }\n\n//   const handleQuestion = () => {\n//     setLoading(true);\n//     const token = Cookies.get(\"jwtToken\");\n//     // Define the API endpoint where you want to send the POST request\n//     const apiUrl = \"http://127.0.0.1:8000/api/ask_question/\";\n//     console.log(\"This is my props id\", props.videoID);\n//     const postData = {\n//       id: props.videoID,\n//       question: transcript,\n//       currentTime: props.timeStamp,\n//       jwt: token,\n//     };\n\n//     axios\n//       .post(apiUrl, postData)\n//       .then((response) => {\n//         // Handle the successful response\n//         console.log(\"Response:\", response.data);\n//         const synth = window.speechSynthesis;\n//         const newUtterance = new SpeechSynthesisUtterance(\"Response: \"+ response.data.answer);\n//         synth.speak(newUtterance);\n//         setResponse(response.data.answer);\n//         setLoading(false);\n//       })\n//       .catch((error) => {\n//         // Handle errors, if any\n//         console.error(\"Error:\", error);\n//       });\n//   };\n\n//   return (\n//     <React.Fragment>\n//       <Button\n//         sx={{\n//           backgroundColor: \"secondary.main\",\n//           color: \"white\",\n//           width: \"100%\",\n//           marginTop: \"10px\",\n//         }}\n//         className=\"category-btn\"\n//         onClick={handleClickOpen}\n//       >\n//         Ask question at {formatTime(props.timeStamp)}\n//       </Button>\n//       {(loading || response) && (\n//         <Dialog\n//           open={open}\n//           onClose={handleClose}\n//           fullWidth\n//           sx={{ textAlign: \"center\" }}\n//         >\n//           <KeyboardVoiceIcon\n//             sx={{\n//               fontSize: \"70px\",\n//               backgroundColor: \"#1D5B79\",\n//               color: listening ? \"#EF6262\" : \"white\",\n//               ml: \"5px\",\n//               borderRadius: \"100%\",\n//               padding: \"20px\",\n//               margin: \"20px auto\",\n//             }}\n//           />\n//           <DialogTitle>\n//             {!response ? \"Retrieving Response\" : \"Response\"}\n//           </DialogTitle>\n//           <DialogContent>\n//             {loading && <CircularProgress />}\n//             {response && <DialogContentText>Response: {response}</DialogContentText>}\n//           </DialogContent>\n//           <DialogActions>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               className=\"category-btn\"\n//               onClick={handleAnotherQuestion}\n//             >\n//               Ask another question\n//             </Button>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               className=\"category-btn\"\n//               onClick={handleClose}\n//             >\n//               Cancel\n//             </Button>\n//           </DialogActions>\n//         </Dialog>\n//       )}\n\n//       {!loading && !response && (\n//         <Dialog open={open} onClose={handleClose} sx={{ textAlign: \"center\" }}>\n//           <KeyboardVoiceIcon\n//             sx={{\n//               fontSize: \"70px\",\n//               backgroundColor: \"#1D5B79\",\n//               color: listening ? \"#EF6262\" : \"white\",\n//               ml: \"5px\",\n//               borderRadius: \"100%\",\n//               padding: \"20px\",\n//               margin: \"20px auto\",\n//             }}\n//           />\n//           <DialogTitle>Ask Your Question</DialogTitle>\n//           <DialogContent>\n//             <TextField\n//               id=\"outlined-textarea\"\n//               label=\"Your Question\"\n//               placeholder=\"Your question will be visible here\"\n//               multiline\n//               value={transcript}\n//               fullWidth\n//               disabled\n//               sx={{ margin: \"20px 0\" }}\n//             />\n//             <ButtonGroup aria-label=\"Buttons to control speech recognition\">\n//               <Button\n//                 sx={{\n//                   backgroundColor: \"secondary.main\",\n//                   color: \"white\",\n//                 }}\n//                 aria-label = \"This is a button for start or stopping the speech to text\"\n//                 className=\"category-btn\"\n//                 onClick={handleStartStop}\n//               >\n//                 {startOrStop}\n//               </Button>\n//               <Button\n//                 sx={{\n//                   backgroundColor: \"secondary.main\",\n//                   color: \"white\",\n//                 }}\n//                 className=\"category-btn\"\n//                 onClick={textToSpeech}\n//               >\n//                 Text To Speech\n//               </Button>\n//               <Button\n//                 sx={{\n//                   backgroundColor: \"secondary.main\",\n//                   color: \"white\",\n//                 }}\n//                 className=\"category-btn\"\n//                 onClick={handleReset}\n//               >\n//                 Reset Question\n//               </Button>\n//             </ButtonGroup>\n//           </DialogContent>\n//           <DialogActions>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               className=\"category-btn\"\n//               onClick={handleClose}\n//             >\n//               Cancel\n//             </Button>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               onClick={handleQuestion}\n//             >\n//               Submit Question\n//             </Button>\n//           </DialogActions>\n//         </Dialog>\n//       )}\n//     </React.Fragment>\n//   );\n// };\n\n// export default AskAI;\nvar _c;\n$RefreshReg$(_c, \"AskAI\");","map":{"version":3,"names":["React","useCallback","useState","useEffect","AlertBar","SpeechRecognition","useSpeechRecognition","axios","Cookies","Button","TextField","Dialog","DialogActions","DialogContent","ButtonGroup","DialogTitle","DialogContentText","CircularProgress","KeyboardVoiceIcon","formatTime","tokenUsable","jsxDEV","_jsxDEV","AskAI","props","_s","open","setOpen","loading","setLoading","response","setResponse","startOrStop","setStartOrStop","playBeep","audioStart","Audio","require","play","textToSpeech","synth","window","speechSynthesis","newUtterance","SpeechSynthesisUtterance","transcript","voices","getVoices","voice","find","v","name","speak","handleKeyPress","event","key","console","log","handleClickOpen","document","addEventListener","removeEventListener","listening","resetTranscript","browserSupportsSpeechRecognition","token","get","fileName","_jsxFileName","lineNumber","columnNumber","startListening","continuous","handleClose","stopListening","handleAnotherQuestion","handleReset","handleStartStop","handleQuestion","apiUrl","videoID","postData","id","question","currentTime","timeStamp","jwt","post","then","data","answer","catch","error","Fragment","children","sx","backgroundColor","color","width","marginTop","className","onClick","onClose","fullWidth","textAlign","fontSize","ml","borderRadius","padding","margin","label","placeholder","multiline","value","disabled","_c","$RefreshReg$"],"sources":["/Users/maryamcheema/Documents/VideoAccessibility/frontend/src/components/AskAI.jsx"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\n// import { AlertBar } from \"./\";\n// import SpeechRecognition, { useSpeechRecognition } from \"react-speech-recognition\";\n// import axios from \"axios\";\n// import Cookies from \"js-cookie\";\n// import Button from \"@mui/material/Button\";\n// import TextField from \"@mui/material/TextField\";\n// import Dialog from \"@mui/material/Dialog\";\n// import {\n//   ButtonGroup,\n//   DialogTitle,\n//   DialogContent,\n//   DialogActions,\n//   DialogContentText,\n//   CircularProgress,\n// } from \"@mui/material\";\n// // import SpeechRecognition, {\n// //   useSpeechRecognition,\n// // } from \"react-speech-recognition\";\n// import KeyboardVoiceIcon from \"@mui/icons-material/KeyboardVoice\";\n// import formatTime from \"../utils/functions\";\n// import tokenUsable from \"../utils/loggedIn\";\n\n// const AskAI = (props) => {\n//   const [open, setOpen] = useState(false);\n//   const [loading, setLoading] = useState(false);\n//   const [response, setResponse] = useState(\"\");\n//   const [startOrStop, setStartOrStop] = useState(\"Stop\");\n//   const [showAlert, setShowAlert] = useState(false); // State to control alert visibility\n\n//   useEffect(() => {\n//     const handleKeyPress = (event) => {\n//       if (event.key === \"q\" && !open) {\n//         handleClickOpen();\n//       }\n//     };\n\n//     document.addEventListener(\"keydown\", handleKeyPress);\n\n//     return () => {\n//       document.removeEventListener(\"keydown\", handleKeyPress);\n//     };\n//   }, [open]);\n\n//   const {\n//     transcript,\n//     listening,\n//     resetTranscript,\n//     browserSupportsSpeechRecognition,\n//   } = useSpeechRecognition();\n\n  // const handleClickOpen = () => {\n  //   const token = Cookies.get(\"jwtToken\");\n  //   if (!token || !tokenUsable(token)) {\n  //     setShowAlert(true); // Set showAlert to true to show the alert\n  //     return;\n  //   }\n\n  //   SpeechRecognition.startListening({ continuous: true });\n  //   setOpen(true);\n  // };\n\n//   const handleClose = () => {\n//     setOpen(false);\n//     SpeechRecognition.stopListening();\n//     setResponse(\"\");\n//     resetTranscript();\n//     setStartOrStop(\"Stop\");\n//   };\n\n//   const handleAnotherQuestion = () => {\n//     setResponse(\"\");\n//     resetTranscript();\n//   };\n\n//   const handleReset = () => {\n//     resetTranscript();\n//     SpeechRecognition.startListening({ continuous: true });\n//     setStartOrStop(\"Stop\");\n//   };\n\n//   const handleStartStop = () => {\n//     if (startOrStop === \"Stop\") {\n//       SpeechRecognition.stopListening();\n//       setStartOrStop(\"Start\");\n//     } else {\n//       SpeechRecognition.startListening({ continuous: true });\n//       setStartOrStop(\"Stop\");\n//     }\n//   };\n\n//   const handleQuestion = () => {\n//     setLoading(true);\n//     const token = Cookies.get(\"jwtToken\");\n//     const apiUrl = \"http://127.0.0.1:8000/api/ask_question/\";\n//     const postData = {\n//       id: props.videoID,\n//       question: transcript,\n//       currentTime: props.timeStamp,\n//       jwt: token,\n//     };\n\n//     axios\n//       .post(apiUrl, postData)\n//       .then((response) => {\n//         const synth = window.speechSynthesis;\n//         const newUtterance = new SpeechSynthesisUtterance(\"Response: \" + response.data.answer);\n//         synth.speak(newUtterance);\n//         setResponse(response.data.answer);\n//         setLoading(false);\n//       })\n//       .catch((error) => {\n//         console.error(\"Error:\", error);\n//       });\n//   };\n\n//   return (\n//     // <React.Fragment>\n\n//     //   <Button\n//     //     sx={{\n//     //       backgroundColor: \"secondary.main\",\n//     //       color: \"white\",\n//     //       width: \"100%\",\n//     //       marginTop: \"10px\",\n//     //     }}\n//     //     className=\"category-btn\"\n//     //     onClick={handleClickOpen}\n//     //   >\n//     //     Ask question at {formatTime(props.timeStamp)}\n//     //   </Button>\n//     //   {(loading || response) && (\n//     //     <Dialog\n//     //       open={open}\n//     //       onClose={handleClose}\n//     //       fullWidth\n//     //       sx={{ textAlign: \"center\" }}\n//     //     >\n//     //       {/* Dialog content */}\n//     //     </Dialog>\n//     //   )}\n//     //   {!loading && !response && (\n//     //     <Dialog open={open} onClose={handleClose} sx={{ textAlign: \"center\" }}>\n//     //       {/* Dialog content */}\n//     //     </Dialog>\n//     //   )}\n//     // </React.Fragment>\n//     <>\n//     {showAlert && <AlertBar render ={showAlert} />} {/* Conditionally render the AlertBar */}\n//     <React.Fragment>\n//       <Button\n//         sx={{\n//           backgroundColor: \"secondary.main\",\n//           color: \"white\",\n//           width: \"100%\",\n//           marginTop: \"10px\",\n//         }}\n//         className=\"category-btn\"\n//         onClick={handleClickOpen}\n//       >\n//         Ask question at {formatTime(props.timeStamp)}\n//       </Button>\n//       {(loading || response) && (\n//         <Dialog\n//           open={open}\n//           onClose={handleClose}\n//           fullWidth\n//           sx={{ textAlign: \"center\" }}\n//         >\n//           <KeyboardVoiceIcon\n//             sx={{\n//               fontSize: \"70px\",\n//               backgroundColor: \"#1D5B79\",\n//               color: listening ? \"#EF6262\" : \"white\",\n//               ml: \"5px\",\n//               borderRadius: \"100%\",\n//               padding: \"20px\",\n//               margin: \"20px auto\",\n//             }}\n//           />\n//           <DialogTitle>\n//             {!response ? \"Retrieving Response\" : \"Response\"}\n//           </DialogTitle>\n//           <DialogContent>\n//             {loading && <CircularProgress />}\n//             {response && <DialogContentText>Response: {response}</DialogContentText>}\n//           </DialogContent>\n//           <DialogActions>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               className=\"category-btn\"\n//               onClick={handleAnotherQuestion}\n//             >\n//               Ask another question\n//             </Button>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               className=\"category-btn\"\n//               onClick={handleClose}\n//             >\n//               Cancel\n//             </Button>\n//           </DialogActions>\n//         </Dialog>\n//       )}\n\n//       {!loading && !response && (\n//         <Dialog open={open} onClose={handleClose} sx={{ textAlign: \"center\" }}>\n//           <KeyboardVoiceIcon\n//             sx={{\n//               fontSize: \"70px\",\n//               backgroundColor: \"#1D5B79\",\n//               color: listening ? \"#EF6262\" : \"white\",\n//               ml: \"5px\",\n//               borderRadius: \"100%\",\n//               padding: \"20px\",\n//               margin: \"20px auto\",\n//             }}\n//           />\n//           <DialogTitle>Ask Your Question</DialogTitle>\n//           <DialogContent>\n//             <TextField\n//               id=\"outlined-textarea\"\n//               label=\"Your Question\"\n//               placeholder=\"Your question will be visible here\"\n//               multiline\n//               value={transcript}\n//               fullWidth\n//               disabled\n//               sx={{ margin: \"20px 0\" }}\n//             />\n//             <ButtonGroup aria-label=\"Buttons to control speech recognition\">\n//               <Button\n//                 sx={{\n//                   backgroundColor: \"secondary.main\",\n//                   color: \"white\",\n//                 }}\n//                 aria-label = \"This is a button for start or stopping the speech to text\"\n//                 className=\"category-btn\"\n//                 onClick={handleStartStop}\n//               >\n//                 {startOrStop}\n//               </Button>\n//               <Button\n//                 sx={{\n//                   backgroundColor: \"secondary.main\",\n//                   color: \"white\",\n//                 }}\n//                 className=\"category-btn\"\n//                 onClick={textToSpeech}\n//               >\n//                 Text To Speech\n//               </Button>\n//               <Button\n//                 sx={{\n//                   backgroundColor: \"secondary.main\",\n//                   color: \"white\",\n//                 }}\n//                 className=\"category-btn\"\n//                 onClick={handleReset}\n//               >\n//                 Reset Question\n//               </Button>\n//             </ButtonGroup>\n//           </DialogContent>\n//           <DialogActions>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               className=\"category-btn\"\n//               onClick={handleClose}\n//             >\n//               Cancel\n//             </Button>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               onClick={handleQuestion}\n//             >\n//               Submit Question\n//             </Button>\n//           </DialogActions>\n//         </Dialog>\n//       )}\n//     </React.Fragment>\n//     </>\n//   );\n// };\n\n// export default AskAI;\n\nimport React, { useCallback, useState, useEffect } from \"react\";\nimport {AlertBar} from './';\nimport SpeechRecognition, {\n  useSpeechRecognition,\n} from \"react-speech-recognition\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport {\n  ButtonGroup,\n  DialogTitle,\n  DialogContentText,\n  CircularProgress,\n} from \"@mui/material\";\nimport KeyboardVoiceIcon from \"@mui/icons-material/KeyboardVoice\";\nimport formatTime from \"../utils/functions\";\nimport tokenUsable from \"../utils/loggedIn\";\n\nconst AskAI = (props) => {\n  const [open, setOpen] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  const [response, setResponse] = React.useState(\"\");\n  const [startOrStop, setStartOrStop] = React.useState(\"Stop\");\n\n  const playBeep = () => {\n    const audioStart = new Audio(require('../data/beepStart.mp3')) \n    audioStart.play()\n  };\n\n  const textToSpeech = () => {\n    const synth = window.speechSynthesis;\n    const newUtterance = new SpeechSynthesisUtterance(transcript);\n    const voices = synth.getVoices();\n    newUtterance.voice = voices.find((v) => v.name === \"Google US English\");\n    synth.speak(newUtterance);\n  }\n\n  useEffect(() => {\n    const handleKeyPress = (event) => {\n      // Check if the pressed key is \"Q\" and if the dialog is not already open\n      if (event.key === \"q\" && !open) {\n        console.log(\"I should open\")\n        handleClickOpen();\n      }\n    };\n\n    // Add event listener when the component mounts\n    document.addEventListener(\"keydown\", handleKeyPress);\n\n    // Remove event listener when the component unmounts\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyPress);\n    };\n  }, [open]); \n\n  const {\n    transcript,\n    listening,\n    resetTranscript,\n    browserSupportsSpeechRecognition,\n  } = useSpeechRecognition();\n\n  const handleClickOpen = () => {\n    const token = Cookies.get(\"jwtToken\");\n    if (!token || !tokenUsable(token)){\n      return(\n        <AlertBar/>\n      )\n    }\n\n    SpeechRecognition.startListening({continuous:true});\n    playBeep();\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    SpeechRecognition.stopListening()\n    setResponse(\"\")\n    resetTranscript();\n    setStartOrStop(\"Stop\")\n  };\n\n  const handleAnotherQuestion = () => {\n    setResponse(\"\")\n    resetTranscript();\n  }\n\n  const handleReset = () => {\n    resetTranscript();\n    SpeechRecognition.startListening({continuous:true});\n    setStartOrStop(\"Stop\");\n    playBeep();\n  }\n\n  const handleStartStop = () => {\n    if (startOrStop === \"Stop\"){\n      SpeechRecognition.stopListening()\n      setStartOrStop(\"Start\")\n    }\n    else{\n      SpeechRecognition.startListening({continuous:true})\n      setStartOrStop(\"Stop\")\n    }\n\n  }\n\n  const handleQuestion = () => {\n    setLoading(true);\n    const token = Cookies.get(\"jwtToken\");\n    // Define the API endpoint where you want to send the POST request\n    const apiUrl = \"http://127.0.0.1:8000/api/ask_question/\";\n    console.log(\"This is my props id\", props.videoID);\n    const postData = {\n      id: props.videoID,\n      question: transcript,\n      currentTime: props.timeStamp,\n      jwt: token,\n    };\n\n    axios\n      .post(apiUrl, postData)\n      .then((response) => {\n        // Handle the successful response\n        console.log(\"Response:\", response.data);\n        const synth = window.speechSynthesis;\n        const newUtterance = new SpeechSynthesisUtterance(\"Response: \"+ response.data.answer);\n        synth.speak(newUtterance);\n        setResponse(response.data.answer);\n        setLoading(false);\n      })\n      .catch((error) => {\n        // Handle errors, if any\n        console.error(\"Error:\", error);\n      });\n  };\n\n  return (\n    <React.Fragment>\n      <Button\n        sx={{\n          backgroundColor: \"secondary.main\",\n          color: \"white\",\n          width: \"100%\",\n          marginTop: \"10px\",\n        }}\n        className=\"category-btn\"\n        onClick={handleClickOpen}\n      >\n        Ask question at {formatTime(props.timeStamp)}\n      </Button>\n      {(loading || response) && (\n        <Dialog\n          open={open}\n          onClose={handleClose}\n          fullWidth\n          sx={{ textAlign: \"center\" }}\n        >\n          <KeyboardVoiceIcon\n            sx={{\n              fontSize: \"70px\",\n              backgroundColor: \"#1D5B79\",\n              color: listening ? \"#EF6262\" : \"white\",\n              ml: \"5px\",\n              borderRadius: \"100%\",\n              padding: \"20px\",\n              margin: \"20px auto\",\n            }}\n          />\n          <DialogTitle>\n            {!response ? \"Retrieving Response\" : \"Response\"}\n          </DialogTitle>\n          <DialogContent>\n            {loading && <CircularProgress />}\n            {response && <DialogContentText>Response: {response}</DialogContentText>}\n          </DialogContent>\n          <DialogActions>\n            <Button\n              sx={{\n                backgroundColor: \"secondary.main\",\n                color: \"white\",\n              }}\n              className=\"category-btn\"\n              onClick={handleAnotherQuestion}\n            >\n              Ask another question\n            </Button>\n            <Button\n              sx={{\n                backgroundColor: \"secondary.main\",\n                color: \"white\",\n              }}\n              className=\"category-btn\"\n              onClick={handleClose}\n            >\n              Cancel\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n\n      {!loading && !response && (\n        <Dialog open={open} onClose={handleClose} sx={{ textAlign: \"center\" }}>\n          <KeyboardVoiceIcon\n            sx={{\n              fontSize: \"70px\",\n              backgroundColor: \"#1D5B79\",\n              color: listening ? \"#EF6262\" : \"white\",\n              ml: \"5px\",\n              borderRadius: \"100%\",\n              padding: \"20px\",\n              margin: \"20px auto\",\n            }}\n          />\n          <DialogTitle>Ask Your Question</DialogTitle>\n          <DialogContent>\n            <TextField\n              id=\"outlined-textarea\"\n              label=\"Your Question\"\n              placeholder=\"Your question will be visible here\"\n              multiline\n              value={transcript}\n              fullWidth\n              disabled\n              sx={{ margin: \"20px 0\" }}\n            />\n            <ButtonGroup aria-label=\"Buttons to control speech recognition\">\n              <Button\n                sx={{\n                  backgroundColor: \"secondary.main\",\n                  color: \"white\",\n                }}\n                aria-label = \"This is a button for start or stopping the speech to text\"\n                className=\"category-btn\"\n                onClick={handleStartStop}\n              >\n                {startOrStop}\n              </Button>\n              <Button\n                sx={{\n                  backgroundColor: \"secondary.main\",\n                  color: \"white\",\n                }}\n                className=\"category-btn\"\n                onClick={textToSpeech}\n              >\n                Text To Speech\n              </Button>\n              <Button\n                sx={{\n                  backgroundColor: \"secondary.main\",\n                  color: \"white\",\n                }}\n                className=\"category-btn\"\n                onClick={handleReset}\n              >\n                Reset Question\n              </Button>\n            </ButtonGroup>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              sx={{\n                backgroundColor: \"secondary.main\",\n                color: \"white\",\n              }}\n              className=\"category-btn\"\n              onClick={handleClose}\n            >\n              Cancel\n            </Button>\n            <Button\n              sx={{\n                backgroundColor: \"secondary.main\",\n                color: \"white\",\n              }}\n              onClick={handleQuestion}\n            >\n              Submit Question\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default AskAI;\n\n\n// import React, { useCallback, useState, useEffect } from \"react\";\n// import {AlertBar} from './';\n// import SpeechRecognition, {\n//   useSpeechRecognition,\n// } from \"react-speech-recognition\";\n// import axios from \"axios\";\n// import Cookies from \"js-cookie\";\n// import Button from \"@mui/material/Button\";\n// import TextField from \"@mui/material/TextField\";\n// import Dialog from \"@mui/material/Dialog\";\n// import DialogActions from \"@mui/material/DialogActions\";\n// import DialogContent from \"@mui/material/DialogContent\";\n// import {\n//   ButtonGroup,\n//   DialogTitle,\n//   DialogContentText,\n//   CircularProgress,\n// } from \"@mui/material\";\n// import KeyboardVoiceIcon from \"@mui/icons-material/KeyboardVoice\";\n// import formatTime from \"../utils/functions\";\n// import tokenUsable from \"../utils/loggedIn\";\n\n// const AskAI = (props) => {\n//   const [open, setOpen] = React.useState(false);\n//   const [loading, setLoading] = React.useState(false);\n//   const [response, setResponse] = React.useState(\"\");\n//   const [startOrStop, setStartOrStop] = React.useState(\"Stop\");\n//   const [showAlert, setShowAlert] = useState(false); // State to control alert visibilityqq\n\n//   const playBeep = () => {\n//     const audioStart = new Audio(require('../data/beepStart.mp3')) \n//     audioStart.play()\n//   };\n\n//   const textToSpeech = () => {\n//     const synth = window.speechSynthesis;\n//     const newUtterance = new SpeechSynthesisUtterance(transcript);\n//     synth.speak(newUtterance);\n//   }\n\n//   useEffect(() => {\n//     const handleKeyPress = (event) => {\n//       // Check if the pressed key is \"Q\" and if the dialog is not already open\n//       if (event.key === \"q\" && !open) {\n//         handleClickOpen();\n//       }\n//     };\n\n//     // Add event listener when the component mounts\n//     document.addEventListener(\"keydown\", handleKeyPress);\n\n//     // Remove event listener when the component unmounts\n//     return () => {\n//       document.removeEventListener(\"keydown\", handleKeyPress);\n//     };\n//   }, [open]); \n\n//   const {\n//     transcript,\n//     listening,\n//     resetTranscript,\n//     browserSupportsSpeechRecognition,\n//   } = useSpeechRecognition();\n\n//   const handleClickOpen = () => {\n//     const token = Cookies.get(\"jwtToken\");\n//     if (!token || !tokenUsable(token)) {\n//       setShowAlert(true); // Set showAlert to true to show the alert\n//       return;\n//     }\n\n//     SpeechRecognition.startListening({continuous:true});\n//     playBeep();\n//     setOpen(true);\n//   };\n\n//   const handleClose = () => {\n//     setOpen(false);\n//     SpeechRecognition.stopListening()\n//     setResponse(\"\")\n//     resetTranscript();\n//     setStartOrStop(\"Stop\")\n//   };\n\n//   const handleAnotherQuestion = () => {\n//     setResponse(\"\")\n//     resetTranscript();\n//   }\n\n//   const handleReset = () => {\n//     resetTranscript();\n//     SpeechRecognition.startListening({continuous:true});\n//     setStartOrStop(\"Stop\");\n//     playBeep();\n//   }\n\n//   const handleStartStop = () => {\n//     if (startOrStop === \"Stop\"){\n//       SpeechRecognition.stopListening()\n//       setStartOrStop(\"Start\")\n//     }\n//     else{\n//       SpeechRecognition.startListening({continuous:true})\n//       setStartOrStop(\"Stop\")\n//     }\n\n//   }\n\n//   const handleQuestion = () => {\n//     setLoading(true);\n//     const token = Cookies.get(\"jwtToken\");\n//     // Define the API endpoint where you want to send the POST request\n//     const apiUrl = \"http://127.0.0.1:8000/api/ask_question/\";\n//     console.log(\"This is my props id\", props.videoID);\n//     const postData = {\n//       id: props.videoID,\n//       question: transcript,\n//       currentTime: props.timeStamp,\n//       jwt: token,\n//     };\n\n//     axios\n//       .post(apiUrl, postData)\n//       .then((response) => {\n//         // Handle the successful response\n//         console.log(\"Response:\", response.data);\n//         const synth = window.speechSynthesis;\n//         const newUtterance = new SpeechSynthesisUtterance(\"Response: \"+ response.data.answer);\n//         synth.speak(newUtterance);\n//         setResponse(response.data.answer);\n//         setLoading(false);\n//       })\n//       .catch((error) => {\n//         // Handle errors, if any\n//         console.error(\"Error:\", error);\n//       });\n//   };\n\n//   return (\n//     <React.Fragment>\n//       <Button\n//         sx={{\n//           backgroundColor: \"secondary.main\",\n//           color: \"white\",\n//           width: \"100%\",\n//           marginTop: \"10px\",\n//         }}\n//         className=\"category-btn\"\n//         onClick={handleClickOpen}\n//       >\n//         Ask question at {formatTime(props.timeStamp)}\n//       </Button>\n//       {(loading || response) && (\n//         <Dialog\n//           open={open}\n//           onClose={handleClose}\n//           fullWidth\n//           sx={{ textAlign: \"center\" }}\n//         >\n//           <KeyboardVoiceIcon\n//             sx={{\n//               fontSize: \"70px\",\n//               backgroundColor: \"#1D5B79\",\n//               color: listening ? \"#EF6262\" : \"white\",\n//               ml: \"5px\",\n//               borderRadius: \"100%\",\n//               padding: \"20px\",\n//               margin: \"20px auto\",\n//             }}\n//           />\n//           <DialogTitle>\n//             {!response ? \"Retrieving Response\" : \"Response\"}\n//           </DialogTitle>\n//           <DialogContent>\n//             {loading && <CircularProgress />}\n//             {response && <DialogContentText>Response: {response}</DialogContentText>}\n//           </DialogContent>\n//           <DialogActions>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               className=\"category-btn\"\n//               onClick={handleAnotherQuestion}\n//             >\n//               Ask another question\n//             </Button>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               className=\"category-btn\"\n//               onClick={handleClose}\n//             >\n//               Cancel\n//             </Button>\n//           </DialogActions>\n//         </Dialog>\n//       )}\n\n//       {!loading && !response && (\n//         <Dialog open={open} onClose={handleClose} sx={{ textAlign: \"center\" }}>\n//           <KeyboardVoiceIcon\n//             sx={{\n//               fontSize: \"70px\",\n//               backgroundColor: \"#1D5B79\",\n//               color: listening ? \"#EF6262\" : \"white\",\n//               ml: \"5px\",\n//               borderRadius: \"100%\",\n//               padding: \"20px\",\n//               margin: \"20px auto\",\n//             }}\n//           />\n//           <DialogTitle>Ask Your Question</DialogTitle>\n//           <DialogContent>\n//             <TextField\n//               id=\"outlined-textarea\"\n//               label=\"Your Question\"\n//               placeholder=\"Your question will be visible here\"\n//               multiline\n//               value={transcript}\n//               fullWidth\n//               disabled\n//               sx={{ margin: \"20px 0\" }}\n//             />\n//             <ButtonGroup aria-label=\"Buttons to control speech recognition\">\n//               <Button\n//                 sx={{\n//                   backgroundColor: \"secondary.main\",\n//                   color: \"white\",\n//                 }}\n//                 aria-label = \"This is a button for start or stopping the speech to text\"\n//                 className=\"category-btn\"\n//                 onClick={handleStartStop}\n//               >\n//                 {startOrStop}\n//               </Button>\n//               <Button\n//                 sx={{\n//                   backgroundColor: \"secondary.main\",\n//                   color: \"white\",\n//                 }}\n//                 className=\"category-btn\"\n//                 onClick={textToSpeech}\n//               >\n//                 Text To Speech\n//               </Button>\n//               <Button\n//                 sx={{\n//                   backgroundColor: \"secondary.main\",\n//                   color: \"white\",\n//                 }}\n//                 className=\"category-btn\"\n//                 onClick={handleReset}\n//               >\n//                 Reset Question\n//               </Button>\n//             </ButtonGroup>\n//           </DialogContent>\n//           <DialogActions>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               className=\"category-btn\"\n//               onClick={handleClose}\n//             >\n//               Cancel\n//             </Button>\n//             <Button\n//               sx={{\n//                 backgroundColor: \"secondary.main\",\n//                 color: \"white\",\n//               }}\n//               onClick={handleQuestion}\n//             >\n//               Submit Question\n//             </Button>\n//           </DialogActions>\n//         </Dialog>\n//       )}\n//     </React.Fragment>\n//   );\n// };\n\n// export default AskAI;\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA,IAAA4F,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}